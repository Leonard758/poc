<div class="ai-container">
  <h2>Assistente AI Bedrock</h2>
  
  <form [formGroup]="aiForm" (ngSubmit)="onSubmit()" class="ai-form">
    
    <div class="form-group">
      <label for="tone">Tono di Voce</label>
      <select id="tone" formControlName="tone">
        <option *ngFor="let t of tones" [value]="t">{{ t }}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="prompt">Scrivi la tua richiesta</label>
      <textarea 
        id="prompt" 
        formControlName="prompt" 
        rows="4" 
        placeholder="Es: Scrivi un post LinkedIn...">
      </textarea>
    </div>

    <div class="actions">
      <button type="submit" [disabled]="aiForm.invalid || isLoading" class="btn-primary">
        {{ isLoading ? 'Generazione...' : 'Invia Richiesta' }}
      </button>
      
      <button type="button" (click)="resetChat()" *ngIf="conversationId" class="btn-secondary">
        Nuova Chat
      </button>
    </div>
  </form>

  <div *ngIf="responseText" class="response-box">
    <h3>Risposta:</h3>
    <div class="response-content">
      {{ responseText }}
    </div>
    <small>ID Conversazione: {{ conversationId }}</small>
  </div>
</div>